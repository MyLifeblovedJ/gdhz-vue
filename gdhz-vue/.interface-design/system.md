# 广东省海洋灾害综合决策系统 — 设计系统

> 最后更新：2026-02-16
> 提取自：`variables.css`、`animations.css`、`RightSidebar.vue`、`RealtimeDataPanel.vue`

---

## 方向与感觉

**产品域：** 海洋灾害应急指挥中心
**用户：** 值班领导与应急指挥人员，在 24 小时指挥大屏或笔记本上使用
**核心任务：** 快速识别风险等级、做出应急决策
**感觉：** 深海指挥中心 — 冷峻、精准、如同站在舰桥上俯瞰大洋。安静时沉稳如深水，危险时以红橙光警示如信号弹

### 签名元素

- **四色预警体系**：红/橙/黄/蓝，与国家海洋预警发布标准完全对应
- **发光顶线**：每个面板顶部有一条 `linear-gradient` 发光线，用各面板身份色标识
- **迷你趋势线（Sparkline）**：行内 SVG 趋势曲线 + 圆点峰值标记，在极小空间传递 24h 数据走势

### 拒绝的默认值

| 默认值 | 替代方案 |
|--------|---------|
| `gray-700` / `surface-2` 等通用令牌 | 使用 `--bg-deepest`、`--bg-deep`、`--bg-panel`、`--bg-card` 等有深度含义的命名 |
| 通用亮色背景 | 始终深蓝色暗色基调，模拟深海/指挥中心 |
| 实心 hex 边框 | `rgba()` 低透明度边框，「感觉到但看不见」 |
| 扁平化色块状态 | 渐变色 + 投光（text-shadow / box-shadow glow）传递状态 |

---

## 色彩体系

### 底色（Surfaces）

| 令牌 | 值 | 用途 |
|------|------|------|
| `--bg-deepest` | `#020810` | 最深层背景（body） |
| `--bg-deep` | `#041021` | 深层背景 |
| `--bg-panel` | `rgba(8, 25, 50, 0.92)` | 面板背景 |
| `--bg-card` | `rgba(15, 40, 75, 0.85)` | 卡片背景 |
| `--bg-hover` | `rgba(0, 180, 230, 0.15)` | 悬停态 |
| `--bg-active` | `rgba(0, 229, 255, 0.2)` | 激活态 |

**策略：** 从 `#020810` 出发，每层抬升微小的蓝色明度。面板和卡片使用半透明 `rgba` 保持层级感同时允许深底色透出。

### 文字层级

| 令牌 | 值 | 用途 |
|------|------|------|
| `--text-primary` | `#ffffff` | 主标题/核心数字 |
| `--text-secondary` | `#e0f0ff` | 副标题/重要内容（冷白偏蓝） |
| `--text-tertiary` | `#8cb8d8` | 次要标签 |
| `--text-muted` | `#5a7a9a` | 提示/辅助/时间戳 |

### 边框系统

| 令牌 | 值 | 用途 |
|------|------|------|
| `--border-subtle` | `rgba(0, 180, 230, 0.15)` | 细微分隔 |
| `--border-normal` | `rgba(0, 210, 255, 0.35)` | 普通边框 |
| `--border-accent` | `#00d4ff` | 强调边框（焦点环） |

### 功能色/语义色

| 令牌 | 值 | 语义 |
|------|------|------|
| `--accent-cyan` | `#00e5ff` | 主强调色 / 面板标题默认色 |
| `--accent-blue` | `#1890ff` | 链接/可交互 |
| `--alert-red` | `#ff4757` / `#ef4444` | I级红色预警 |
| `--alert-orange` | `#ffa502` / `#f59e0b` | II级橙色预警 |
| `--alert-yellow` | `#ffd43b` | III级黄色预警 |
| `--alert-blue` | `#00a8ff` / `#3b82f6` | IV级蓝色预警 |
| `--status-online` | `#00d26a` / `#10b981` | 正常/在线/观测线 |
| `--status-offline` | `#636e72` | 离线/故障 |

### 面板身份色

| 面板 | 身份色 | 用途 |
|------|--------|------|
| 当前预警 | `#ef4444`（红系） | 标题 + 顶部发光线 |
| AI 态势摘要 | `#10b981`（绿系） | 标题 + 顶部发光线 |
| 决策建议 | `#10b981`（绿系） | 标题 + 顶部发光线 |
| 预测趋势 | `#8b5cf6`（紫系） | 标题 + 顶部发光线 |
| 灾害图标·风浪潮 | `#60a5fa` | 图标背景 |
| 灾害图标·海岸侵蚀 | `#fb923c` | 图标背景 |
| 灾害图标·咸潮入侵 | `#fbbf24` | 图标背景 |
| 灾害图标·海水入侵 | `#22d3ee` | 图标背景 |

### 特效色

| 令牌 | 值 | 用途 |
|------|------|------|
| `--glow-cyan` | `rgba(0, 229, 255, 0.4)` | 青色光晕 |
| `--glow-red` | `rgba(255, 71, 87, 0.5)` | 红色预警光晕 |

---

## 字体系统

| 令牌 | 字体 | 用途 |
|------|------|------|
| `--font-display` | `'Rajdhani', sans-serif` | 数字显示/标题 — 科技感棱角字形 |
| `--font-body` | `'Noto Sans SC', 'Microsoft YaHei', sans-serif` | 正文/中文标签 |

**加载：** Google Fonts CDN (`Rajdhani:500,600,700` + `Noto Sans SC:400,500,700`)

### 排版层级（现有 + 待统一）

| 层级 | 字号 | 字重 | 用途 |
|------|------|------|------|
| 数值英雄 | 22px | 700, `--font-display` | 核心监测数值 |
| 面板标题 | 14px | 600, `--font-display` | 面板标题，`text-transform: uppercase` |
| 灾害标题 | 13px | 600 | 灾害折叠面板标题 |
| 正文 | 12px | 400-600 | 描述文本、发现列表 |
| 摘要条 | 11px | 400 | 面板顶部的摘要文字 |
| 标签/时间 | 10px | 400-600 | 卡片标签、时间戳、状态文字 |
| 微标签 | 9px | 500-600 | 站点名、角标、`risk-badge` |

> ⚠️ **待改进**：8px/9px 在深色背景上对比度不足，正文最小应提升至 12px

---

## 深度策略

**主策略：边框 + 微光晕**

- 主分隔靠 `rgba()` 低透明度边框
- 高级别状态加 `box-shadow` glow（如 `0 0 16px rgba(239, 68, 68, 0.25)`）
- 面板使用 `--shadow-panel: 0 4px 20px rgba(0, 0, 0, 0.4)` 建立底层阴影

**发光顶线模式（面板签名）：**
```css
.panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 15%;
  right: 15%;
  height: 1px;
  background: linear-gradient(90deg,
    transparent,
    [身份色] 30%,
    [身份色] 70%,
    transparent);
  opacity: 0.6;
}
```

**状态边框增强：**
- 正常态：`--border-normal`（cyan 0.35 透明度）
- 警告态：`rgba(245, 158, 11, 0.4)` + 顶线变橙
- 告警态：`rgba(239, 68, 68, 0.4)` + 顶线变红

---

## 间距系统

### 当前使用（待系统化）

| 场景 | 值 | 备注 |
|------|------|------|
| 侧边栏内边距 | `8px 10px` | 左右两栏一致 |
| 面板间距 | `gap: 10px` | 容器 flex gap |
| 面板头部内边距 | `12px` | `panel-header` |
| 面板内容内边距 | `0 12px 12px 12px` | `panel-content` |
| 卡片内边距 | `12px` | `data-card` |
| 组件间 gap | `8px` | 列表项/卡片 gap |
| 微间距 | `4px` / `6px` | 图标与文字、标签间距 |

### 建议间距令牌（待建立）

```css
--space-1: 4px;   /* 微间距 */
--space-2: 8px;   /* 组件内部 */
--space-3: 12px;  /* 卡片/面板内 */
--space-4: 16px;  /* 区块间 */
--space-6: 24px;  /* 主区域间 */
```

---

## 圆角体系

| 令牌 | 值 | 用途 |
|------|------|------|
| `--border-radius-sm` | `4px` | 小元素（发现项、标签） |
| `--border-radius` | `8px` | 标准元素（卡片、面板、摘要） |
| `--border-radius-lg` | `12px` | 大元素（响应卡片） |
| 药丸形（pill） | `10px` | 状态角标（`risk-badge`、`card-status-text`） |
| 圆形 | `50%` | 图标容器、时间线圆点 |

---

## 过渡时间

| 令牌 | 值 | 用途 |
|------|------|------|
| `--transition-fast` | `150ms ease-out` | 悬停、微交互 |
| `--transition-normal` | `250ms ease-out` | 标准交互 |
| `--transition-slow` | `400ms cubic-bezier(0.4, 0, 0.2, 1)` | 进入/展开动画 |

---

## 动画体系

### 持续动画

| 名称 | 用途 | 改造建议 |
|------|------|---------|
| `breathe` | 呼吸缩放 2s | 保留，用于高危提示 |
| `alertPulse` | 预警脉冲 2s | 保留 |
| `pulse-icon` | 图标缩放 2s | ⚠️ 改为事件触发 |
| `sidebar-risk-pulse` | 侧栏红色呼吸 3s | ⚠️ 改为触发 3 次后停止 |
| `marquee-scroll` | 跑马灯滚动 | 保留 |

### 过渡动画

| 名称 | 用途 |
|------|------|
| `fadeIn` | 元素淡入 |
| `slideInUp` / `slideInLeft` | 方向滑入 |
| `slideDown` | 下拉菜单 |
| `hover-lift` | 悬停抬升 `-2px` |
| `click-shrink` | 按压缩小 `scale(0.97)` |

### 脉冲环水波纹

| 名称 | 颜色 | 用途 |
|------|------|------|
| `pulse-ring-red` | 红 | 红色告警水波纹 |
| `pulse-ring-yellow` | 橙黄 | 预警水波纹 |
| `marker-pulse-ring-red/yellow` | 红/黄 | 地图标记脉冲 |

---

## 组件模式

### 面板（Panel）

```
┌─ 发光顶线（身份色 gradient）──────────┐
│ panel-header: 标题(身份色) + 折叠箭头  │
│ panel-summary: 摘要条（背景色 + 边框） │
│ panel-content: 内容区                 │
└──────────────────────────────────────┘
```

- 背景：`--bg-panel`
- 边框：`--border-normal`
- 圆角：`--border-radius`（8px）
- 阴影：`--shadow-panel`
- 折叠：`max-height` 过渡 + `overflow: hidden`

### 数据卡片（Data Card）

```
┌── 左侧状态条（3px 渐变）──┐
│ 标签 (10px uppercase)    │
│ 数值 (22px Rajdhani)  m  │
│ 站点 (9px muted)         │
│ [状态角标]               │
└──────────────────────────┘
```

- 正常态：绿色系（`#10b981` 边框/数值色）
- 警告态：橙色系（`#f59e0b`）+ 左侧状态条亮起
- 告警态：红色系（`#ef4444`）+ 左侧状态条亮起
- 悬停：`translateY(-2px)` + `box-shadow` glow

### 预警卡片（Alert Card）

- 红/橙/黄三级渐变背景
- 左侧预警图标 44px（带 `drop-shadow` 光晕）
- 悬停：`translateX(-4px)` 水平位移

### 状态角标（Risk Badge / Status Badge）

- 药丸形 `border-radius: 10px`
- 半透明背景 + 同色文字 + 同色边框
- 三态：`normal`（绿）/ `warn`（橙）/ `alarm`（红）

### 摘要条（Panel Summary）

- 圆角 8px 容器
- 背景：`rgba(255, 255, 255, 0.03)` 默认
- 变体：`summary-alert`（橙色调）、`summary-storm-wave`（蓝色调）、`summary-situation`（绿色调）

### 侧边栏（Sidebar）

- 宽度：`340px`（左右一致）
- 背景：`--bg-deepest`（与主画布同底色，靠边框分隔）
- 间距：`padding: 8px 10px`，`gap: 10px`
- 滚动条：4px 宽，`transparent` 轨道

### ECharts 图表

- 背景透明
- 网格线：`rgba(255,255,255,0.06)`
- 轴标签：`rgba(255,255,255,0.45-0.5)`
- Tooltip：`rgba(20, 30, 50, 0.95)` 深色气泡
- 观测线：`#10b981`（绿，实线）
- 预测线：`#8b5cf6`（紫，虚线）
- 增水柱：`#f97316`（橙，渐变柱）
- 四色警戒线：红/橙/黄/蓝虚线

---

## 侧边栏宽度

| 侧栏 | 宽度 | 组件 |
|------|------|------|
| 左侧决策栏 | 340px | `RightSidebar.vue`（命名为 decision-sidebar） |
| 右侧数据栏 | 340px | `RealtimeDataPanel.vue`（命名为 data-panel-sidebar） |

> **注意：** `RightSidebar` 实际渲染在左侧（命名历史遗留），`RealtimeDataPanel` 在右侧。

---

## 待改进清单

1. **间距令牌化**：建立 `--space-*` 系列，替换散落的魔法数字
2. **最小字号提升**：`9px` → `10px`，`10px` 标签 → `11px`
3. **面板标题颜色统一**：当前预警面板标题仍为默认 cyan，应改为红系
4. **数值状态着色**：核心数字应按风险等级着色（P0 改造项）
5. **动画瘦身**：持续动画改为事件触发
6. **色彩收敛**：面板标题和交互色统一到 cyan + 身份色，减少 8+ 色噪音
